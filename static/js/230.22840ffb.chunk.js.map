{"version":3,"file":"static/js/230.22840ffb.chunk.js","mappings":"uQACA,EAAsC,wCAAtC,EAA2F,+BAA3F,EAAwI,gCAAxI,EAAoL,8BAApL,EAA+N,+BAA/N,EAA0Q,8BAA1Q,EAAoT,8B,SCyEpT,EApEe,WAEb,OAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MA6BjB,OAlBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQR,EAAaS,IAAI,SACzBC,EAAU,mCAAG,gHAEQC,EAAAA,EAAAA,IAAaH,GAFrB,gBAEPI,EAFO,EAEPA,KACRR,GAAU,OAAIQ,EAAKC,UAHJ,gDAKfC,QAAQC,IAAI,KAAMC,MAClBF,QAAQC,IAAI,KAAME,SANH,yDAAH,qDASZT,EACFE,IAEAN,EAAU,GAEb,GAAE,CAACJ,KAGF,2BACE,qBAASkB,UAAWC,EAApB,WACE,kBAAMC,SA9BS,SAAAC,GAAM,IAAD,EACxBA,EAAEC,iBAEFrB,EAAgB,CACdO,MAAK,UAAEa,EAAEE,cAAcC,SAASC,WAAWC,aAAtC,QAA+C,KAEtDL,EAAEE,cAAcI,OACjB,EAuBmCT,UAAWC,EAAzC,WACE,kBACEH,KAAK,aACLY,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZb,UAAWC,KAEb,mBAAQS,KAAK,SAASV,UAAWC,EAAjC,wBAIF,eAAID,UAAWC,EAAf,SACGhB,GACCA,EAAO6B,KAAI,SAAAC,GAAK,OACd,eAAmBf,UAAWC,EAA9B,UACE,SAAC,KAAD,CACEe,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMhC,GACfa,UAAWC,EAHb,SAKGc,EAAMK,SANFL,EAAME,GADD,UAe3B,C,oKCtEKI,EAAU,mCACVC,EAAe,uBAERC,EAAoB,WAC7B,OAAOC,EAAAA,EAAAA,IAAA,kBAAqBF,EAArB,uCAAgED,GAC1E,EAEYI,EAAkB,SAACC,GAC5B,OAAOF,EAAAA,EAAAA,IAAA,kBAAqBF,EAArB,kBAA2CI,EAA3C,oBAA+DL,GACzE,EAEY5B,EAAe,SAAC2B,GACzB,OAAOI,EAAAA,EAAAA,IAAA,kBAAqBF,EAArB,iCAA0DD,EAA1D,kBAA2ED,EAA3E,8BACV,EAEYO,EAAe,SAACV,GAC3B,OAAOO,EAAAA,EAAAA,IAAA,kBACMF,EADN,kBAC4BL,EAD5B,4BACkDI,GAE1D,EAEYO,EAAkB,SAACX,GAC9B,OAAOO,EAAAA,EAAAA,IAAA,kBACMF,EADN,kBAC4BL,EAD5B,4BACkDI,EADlD,WAGR,C","sources":["webpack://react-homework-template/./src/pages/MoviesPage/moviesPage.module.css?8b89","pages/MoviesPage/MoviesPage.jsx","services/apiMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchSection\":\"moviesPage_moviesSearchSection__c0qTb\",\"searchForm\":\"moviesPage_searchForm__MnrTw\",\"searchInput\":\"moviesPage_searchInput__046Qt\",\"searchBtn\":\"moviesPage_searchBtn__ZEIen\",\"moviesList\":\"moviesPage_moviesList__tVnIy\",\"movieItem\":\"moviesPage_movieItem__y3uxz\",\"movieLink\":\"moviesPage_movieLink__zdB0D\"};","// import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { searchMovies } from 'services/apiMovies';\nimport styles from './moviesPage.module.css';\n\nconst Movies = () => {\n  // const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setSearchParams({\n      query: e.currentTarget.elements.movieTitle.value ?? '',\n    });\n    e.currentTarget.reset();\n  };\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    const fetchMovie = async () => {\n      try {\n        const { data } = await searchMovies(query);\n        setMovies([...data.results]);\n      } catch (error) {\n        console.log(error.name);\n        console.log(error.message);\n      }\n    };\n    if (query) {\n      fetchMovie();\n    } else {\n      setMovies([]);\n    }\n  }, [searchParams]);\n\n  return (\n    <main>\n      <section className={styles.moviesSearchSection}>\n        <form onSubmit={handleSubmit} className={styles.searchForm}>\n          <input\n            name=\"movieTitle\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            className={styles.searchInput}\n          />\n          <button type=\"submit\" className={styles.searchBtn}>\n            Search\n          </button>\n        </form>\n        <ul className={styles.moviesList}>\n          {movies &&\n            movies.map(movie => (\n              <li key={movie.id} className={styles.movieItem}>\n                <Link\n                  to={`/movies/${movie.id}`}\n                  state={{ from: location }}\n                  className={styles.movieLink}\n                >\n                  {movie.title}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '5cc33dbe2a444448fed26d3844693d78';\nconst BASE_API_URL = 'api.themoviedb.org/3'\n\nexport const getTrendingMovies = () => {\n    return axios.get(`https://${BASE_API_URL}/trending/movie/day?api_key=${API_KEY}`)\n}\n\nexport const getMovieDetails = (movie_id) => {\n    return axios.get(`https://${BASE_API_URL}/movie/${movie_id}?api_key=${API_KEY}`)\n}\n\nexport const searchMovies = (title) => {\n    return axios.get(`https://${BASE_API_URL}/search/movie?api_key=${API_KEY}&query=${title}&page=1&include_adult=true`)\n}\n\nexport const getMovieCast = (id) => {\n  return axios.get(\n    `https://${BASE_API_URL}/movie/${id}/credits?api_key=${API_KEY}`\n  );\n};\n\nexport const getMovieReviews = (id) => {\n  return axios.get(\n    `https://${BASE_API_URL}/movie/${id}/reviews?api_key=${API_KEY}&page=1`\n  );\n};"],"names":["useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","location","useLocation","useEffect","query","get","fetchMovie","searchMovies","data","results","console","log","name","message","className","styles","onSubmit","e","preventDefault","currentTarget","elements","movieTitle","value","reset","type","autoComplete","autoFocus","placeholder","map","movie","to","id","state","from","title","API_KEY","BASE_API_URL","getTrendingMovies","axios","getMovieDetails","movie_id","getMovieCast","getMovieReviews"],"sourceRoot":""}